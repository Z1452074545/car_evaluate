$(function(){var API="http://pg.cdongdong.com";$.ajax({url:API+"/html/admin/?m=car&f=brand",type:"GET",success:function(e){var e;if("0"!=(e=JSON.parse(e)).code);else{for(var json=e.message,letter_arr=[],j=65;j<=90;j++)if(69!=j&&73!=j&&85!=j&&86!=j){var x=String.fromCharCode(j);letter_arr.push(x)}for(var maodian_html="",i=0;i<letter_arr.length;i++)maodian_html+=`<div class="maodain_son"> <a href="#${letter_arr[i]}">${letter_arr[i]} </a></div>`;$(".maodain").append(maodian_html);for(var hot_data=json[0],html="",i=0;i<hot_data.length;i++)html+=`<div class="car_hots_son" data-index=${i} data-id=${hot_data[i].id} data-name=${hot_data[i].name}>\n                 <div class="car_m_img" >\n                     <img src="./images/carModel_img/pinpai/${hot_data[i].id}.png" alt="" srcset="">\n                 </div>\n                 <div class="car_m_txt">${hot_data[i].name}</div>\n             </div>`;$(".car_hots").append(html);for(var letter_html="",i=0;i<letter_arr.length;i++)if(letter_html+=`<div class="car_title" id="${letter_arr[i]}">${letter_arr[i]}</div>`,json[letter_arr[i]])for(var datas=json[letter_arr[i]],j=0;j<datas.length;j++)letter_html+=`<div class="car_brand">\n                        <div class="car_brand_son" data-index=${j} data-id=${datas[j].id} data-index=${j} data-name=${datas[j].name}>\n                            <div class="car_brand_son_left">\n                                <img src="./images/carModel_img/pinpai/${datas[j].id}.png" alt="" srcset="">\n                            </div>\n                            <div class="car_brand_son_cont">\n                                <div class="son_cont_txt">${datas[j].name}</div>\n                                <div class="son_cont_jiantou">\n                                    <img src="./images/jiantou_right.png" alt="" srcset="">\n                                </div>\n                            </div>\n                        </div>\n                    </div>`;$(".car_box").append(letter_html)}}});var car_info={};$(".car_hots").on("click",".car_hots_son",function(e){var id=e.currentTarget.dataset.id,name=e.currentTarget.dataset.name;car_info.pinpai=name,ajax_towCar(id,name)}),$(".title span").on("click",function(){var city_suer=storage.getItem("city_suer")||"";city_suer=JSON.parse(city_suer),window.location.href=`./index.html?city=${city_suer.city}&stationid=${city_suer.stationid}`}),$(".car_box").on("click",".car_brand_son",function(e){var id=e.currentTarget.dataset.id,name=e.currentTarget.dataset.name;car_info.pinpai=name,ajax_towCar(id,name)}),$(".series_title span").on("click",function(){$(".brank_alls").show(),$(".series_alls").hide(),$(".series_all").empty()}),$(".series_all").on("click",".series_all_son",function(e){var id=e.currentTarget.dataset.id,name=e.currentTarget.dataset.name;car_info.chexi=name,ajax_threeCar(id,name)}),$(".carModel_title").on("click",function(){$(".brank_alls").hide(),$(".series_alls").show(),$(".carModel_alls").hide(),$(".carModel_all").empty()});var storage=window.localStorage;function ajax_towCar(id,name){$.ajax({url:API+"/html/admin/?m=car&f=series",type:"GET",data:{id:id},success:function(e){var e;if("0"!=(e=JSON.parse(e)).code);else{var series_html="";$(".brank_alls").hide(),$(".series_alls").show(),$(".series_title p").html(name);for(var json=e.message,i=0;i<json.length;i++)series_html+=`<div class="series_all_son" data-index=${i} data-id=${json[i].id} data-name=${json[i].name}>${json[i].name}</div>`;$(".series_all").append(series_html)}}})}function ajax_threeCar(id,name){$.ajax({url:API+"/html/admin/?m=car&f=seriestype",type:"GET",data:{id:id},success:function(e){var e;if("0"!=(e=JSON.parse(e)).code);else{$(".series_alls").hide(),$(".carModel_alls").show(),$(".carModel_title p").html(name);for(var json=e.message,years=Object.keys(json),carModel_all_html="",i=0;i<years.length;i++)if(carModel_all_html+=`<div class="carModel_all_title">${years[i]}</div>`,json[years[i]])for(var datas=json[years[i]],j=0;j<datas.length;j++)carModel_all_html+=`<div class="carModel_all_box">\n                                <div class="carModel_all_son" data-years=${years[i]} data-index=${datas[j].index} data-names='${datas[j].name}' data-id=${datas[j].id}>\n                                    ${datas[j].name}\n                                </div>\n                            </div>`;$(".carModel_all").append(carModel_all_html)}}})}$(".carModel_all").on("click",".carModel_all_son",function(e){var years=e.currentTarget.dataset.years,id=e.currentTarget.dataset.id,name=e.currentTarget.dataset.names;car_info.niankuan=years,car_info.series=name,car_info=JSON.stringify(car_info),storage.setItem("car_info",car_info),storage.setItem("carid",id);var city_suer=storage.getItem("city_suer")||"";city_suer=JSON.parse(city_suer),window.location.href=`./index.html?city=${city_suer.city}&stationid=${city_suer.stationid}`})});